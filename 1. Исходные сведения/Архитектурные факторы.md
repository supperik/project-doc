# Требования к системе «Платформа для трейдинга»

## Функциональные требования

**F01:** Регистрация пользователя (трейдер/аналитик/брокер/админ).

**F02:** Авторизация и управление сессиями (включая восстановление доступа).

**F03:** Управление ролями и правами доступа (RBAC).

**F04:** Просмотр списка торговых инструментов (поиск/фильтры/избранное).

**F05:** Получение котировок в реальном времени (подписка на поток).

**F06:** Просмотр графика инструмента.

**F07:** Создание ордера (buy/sell, рыночный/лимитный — минимум).

**F08:** Отмена/изменение ордера до исполнения.

**F09:** Отслеживание статуса ордера.

**F10:** Получение подтверждений сделок от брокера/биржи.

**F11:** Просмотр портфеля.

**F12:** Просмотр истории сделок.

**F13:** Расчёт и отображение PnL.

**F14:** Создание и управление авто-стратегиями (условия/активация/деактивация).

**F15:** Автоматическое размещение ордера при срабатывании стратегии (если включено).

**F16:** Уведомления пользователю (исполнение, отказ, оповещение по цене/стратегии).

**F17:** Публикация аналитических обзоров/рекомендаций аналитиком.

**F18:** Просмотр ленты обзоров/рекомендаций трейдерами.

**F19:** Форум/обсуждения: создание темы, сообщения, модерация.

**F20:** Формирование дневного отчёта для брокера по операциям (просмотр/экспорт).

**F21:** Администрирование: настройка параметров платформы, мониторинг активности, аудит.

---

## Нефункциональные требования

### Производительность (Performance)

**PER01:** Задержка доставки котировок до клиента (UI) — целевой SLA: *≤ 1 сек*.

**PER02:** Размещение ордера (от нажатия до подтверждения “принят системой”) — *≤ 1–2 сек*.

**PER03:** Обновление статуса ордера после ответа брокера — *≤ 1 сек* после получения сообщения.

**PER04:** Открытие портфеля/истории сделок — *≤ 2 сек*.

**PER05:** Формирование отчёта (xlsx/pdf) — *≤ 5–10 сек*.

**PER06:** Авторизация/обновление токена — *≤ 1 сек*.


---

### Масштабируемость (Scalability)

#### Ожидаемая нагрузка по ролям:

* **Трейдеры:** частые чтения (котировки, портфель), периодические команды (ордера).
* **Аналитики:** редкие операции публикации, чтение аналитики.
* **Брокеры:** поток подтверждений сделок/статусов, отчётность.
* **Админы:** редкие операции, но тяжёлые запросы по аудиту/мониторингу.

#### Рост пользователей (примерные оценки — поправишь под свой курс/вуз):

**SCA01:** На запуске — 500–1 500 активных пользователей.

**SCA02:** Через год — 3 000–5 000.

**SCA03:** Через 3 года — 10 000+.

**SCA04:** Поток котировок должен поддерживать большое число подписок (горизонтальное масштабирование сервиса котировок/шины событий).

**SCA05:** Обработка подтверждений сделок должна быть устойчива к всплескам (очереди/буферизация/идемпотентность).

---

### Доступность (Availability)

**AVA01:** Целевая доступность: *99.9%*.

**AVA02:** Окно обслуживания: *03:00–04:00* по местному времени.

**AVA03:** При падении одного узла система продолжает работу в режиме пониженной производительности.

**AVA04:** Потеря связи с внешним брокером не должна “ронять” всю платформу (degraded mode: UI доступен, показывать статус “нет данных/ордеры недоступны”).

---

### Безопасность и аудит (Security)

**SEC01:** Соблюдение требований по защите персональных данных. (РФ — 152-ФЗ)

**SEC02:** Шифрование при передаче: HTTPS/TLS 1.2+.

**SEC03:** Шифрование чувствительных данных на хранении.

**SEC04:** Пароли хранить как хеши.

**SEC05:** MFA для администраторов и брокеров.

**SEC06:** Аудит действий: входы, размещение/отмена ордеров, действия админа, изменения стратегий.

**SEC07:** Защита от ботов/флуда/DDoS: rate limit, WAF/CDN.

**SEC08:** Принцип наименьших привилегий, строгая сегментация доступов сервисов.

---

### Надёжность и восстановление (Durability, Disaster Recovery)

**DUR01:** Ежедневные бэкапы БД, автоматизация.

**DUR02:** Хранение бэкапов минимум 30 дней.

**DUR03:** Репликация БД, возможность переключения.

**DUR04:** Цели восстановления: **RPO ≤ 15 мин**, **RTO ≤ 1 час**.

**DUR05:** Идемпотентность обработки подтверждений сделок.


---

### Мониторинг (Monitoring)

**MON01:** Мониторинг API, БД, очередей/шины событий, задержки котировок, интеграций с брокером.

**MON02:** Метрики + дашборды.

**MON03:** Алерты DevOps/админам при сбоях и превышении SLA.

---

### Организационные и юридические вопросы (Legal, Regulatory and Compliance)

**LRC01:** Соблюдение требований по персональным данным.

**LRC02:** Локализация данных.

**LRC03:** Правила хранения и предоставления логов аудита.

---

### Локализация (I18n, L10n)

**L10N01:** Основной язык — русский.

**L10N02:** Возможность добавления английского.

**L10N03:** Локализация только интерфейса, не рыночных символов/тикеров.

---

### Целевые платформы и устройства пользователей

**PLT01:** Web: Chrome/Edge/Firefox/Safari (последние 3 версии).

**PLT02:** Mobile: Android 10+, iOS 14+.

**PLT03:** Адаптивный интерфейс для мобильных экранов.

---

### Ограничения (Constraints)

**LIM01:** Предпочтение Open Source / разрешённых библиотек.

**LIM02:** Ограниченный бюджет и сроки (6 месяцев).

**LIM03:** Минимальный состав команды (backend/frontend/QA/PM/DevOps).

**LIM04:** Ограничения на внешние интеграции.

**LIM05:** Обязательное логирование и аудит ключевых операций.

---

### Принципы (Principles)

**PRN01:** Прозрачность и трассируемость операций.

**PRN02:** Безопасность и контроль доступов как приоритет.

**PRN03:** Масштабируемость чтения (котировки/портфель) отдельно от записи (ордера/сделки).

**PRN04:** Устойчивость к сбоям интеграций.

**PRN05:** Код-ревью, автотесты на критичные сценарии (ордер/сделка/портфель).
